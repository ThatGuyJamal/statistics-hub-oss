import { modelOptions, Severity, prop, getModelForClass } from "@typegoose/typegoose";

@modelOptions({
    schemaOptions: {
      id: false,
      collection: "some-cool-plugin",
    },
    options: {
      allowMixed: Severity.ALLOW,
      runSyncIndexes: true,
    },
  })
  export class PluginDocument {
    @prop({ type: () => String, required: true })
    /**
     * Guild ID
     */
    public _id?: string;
  
    /**
     * The name of the guild
     */
    @prop({ type: () => String, required: false, default: null })
    public guild_name?: string;
  
    @prop({ type: () => Boolean, required: false, default: false })
    /**
     * If the plugin is enabled
     */
    public enabled?: boolean;
  
    /**
     * The plugin schema model
     */
    @prop({ type: () => Object, required: false, default: null })
    public schema?: any
  }
  
  export const AnyDocumentModel = getModelForClass(PluginDocument);